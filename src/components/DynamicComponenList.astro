---
import {
  type TypeComponentAccordionSkeleton,
  type TypeComponentCarouselSkeleton,
  type TypeComponentGridSkeleton,
  type TypeComponentRichTextSkeleton,
  type TypeComponentSpecialSectionSkeleton,
  type TypeComponentVideoSkeleton,
  type TypePageSkeleton,
} from "@lib/generated/contentful";
import type { Entry } from "@lib/types";
import PageSection from "./PageSection.astro";
import DynamicComponent from "./DynamicComponent.astro";

interface Props {
  components?: (
    | Entry<
        | TypeComponentGridSkeleton
        | TypeComponentRichTextSkeleton
        | TypeComponentAccordionSkeleton
        | TypeComponentVideoSkeleton
        | TypeComponentCarouselSkeleton
        | TypeComponentSpecialSectionSkeleton
        | TypePageSkeleton
      >
    | undefined
  )[];
}

const { components } = Astro.props;
---

{
  components
    ?.filter((c) => c)
    .map((c) => (
      <PageSection>
        <DynamicComponent {...c!} />
      </PageSection>
    ))
}
